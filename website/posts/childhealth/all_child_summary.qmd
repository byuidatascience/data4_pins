---
title: "Child height and weight HAZ summaries for multiple countries"
author: "DS 150"
date: "2023-11-05"
categories: [health, child]
description: "Data from three different research studies. Each study had different research objectives."
params: 
    source: "https://github.com/hafen/hbgd"
    pins_url: "https://posit.byui.edu/connect/#/apps/1091db55-3d31-4071-b60e-a2253aa63298/access"
    pins_name: 'hathawayj/childhealth_summary'
    available: all
---

dpr_document(childhealth_summary, extension = ".R.md", export_folder = usethis::proj_get(),
             object_name = "childhealth_summary", title = "Child height and weight HAZ summaries",
             description = "For all data from three studies",
             source = "https://github.com/stefvanbuuren/brokenstick, https://github.com/hafen/hbgd, and https://clinepidb.org/ce/app/record/dataset/DS_5c41b87221",
             var_details = childhealth_summary_description)


```{r}
#| echo: false
title <- params$title
description <- params$description
source <- params$source
pins_url <- params$pins_url
```

# `r params$title`

`r params$description`

```{python}
#| tags: [parameters]
#| echo: false
title = r.title
description = r.description
source = r.source
pins_url = r.pins_url

```


## Data details

```{r}
#| echo: false
#| warning: false
# https://aeturrell.github.io/skimpy/ python skimr for Python
library(pins)
library(tidyverse)
library(skimr)
library(arrow)
board <- board_connect()
dat <- pin_read(board, params$pins_name)
meta <- pin_meta(board, params$pins_name)
```

There are __`r prettyNum(nrow(dat), big.mark = ",", scientific = FALSE)` rows__ and __`r ncol(dat)` columns__. The data source[^1] is used to create our data that is stored in our [pins table](`r meta$local$url`). You can access this pin from a connection to [posit.byui.edu](https://posit.byui.edu) using ``r params$pins_name``.

This data is available to __`r params$available`__.

### Variable description

- __subjid:__ unique identifier of each child
- __sex:__ Male or Female
- __country:__ Label for the varied countries
- __haz_mean:__ The average HAZ score over all measurements
- __waz_mean:__ The average WAZ score over all measurements
- __observations:__ Number of observations for that subject
- __agedays_last:__ The age in days for the HAZ and WAZ last variable
- __agedays_first:__ The age in days for the HAZ and WAZ first variable
- __haz_last:__ The first HAZ measurement on the subject for age in days
- __haz_first:__ The last HAZ measurement on the subject for age in days
- __waz_last:__ The last WAZ measurement on the subject for age in days
- __waz_first:__ The first WAZ measurement on the subject for age in days

### Variable summary

```{r}
#| echo: false
#| warning: false
skim(dat) |> yank("numeric")
```


```{r}
#| echo: false
#| warning: false
skim(dat) |> yank("character")
```

```{r}
#| echo: true
#| eval: false
#| code-fold: true
#| code-summary: Explore generating code using R
#| code-line-numbers: true
#| file: ../../../data_scripts/childheath/dutch_child.r
```

<!-- ```{python}
#| echo: true
#| eval: false
#| code-fold: true
#| code-summary: Explore generating code using Python
#| code-line-numbers: true
# file: ../../../data_scripts/childhealth.py
``` -->

[^1]: [`r params$source`](`r params$source`)